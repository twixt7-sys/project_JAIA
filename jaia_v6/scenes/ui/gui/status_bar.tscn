[gd_scene load_steps=11 format=3 uid="uid://cc14pyurieaij"]

[ext_resource type="Texture2D" uid="uid://5p7fdbktluk7" path="res://icon.png" id="2_hoc73"]
[ext_resource type="Texture2D" uid="uid://c8dd4tisg3kqh" path="res://assets/textures/UI/icons/CharacterFrame.png" id="3_61oeo"]
[ext_resource type="Texture2D" uid="uid://dvj2eykxyh6pv" path="res://assets/textures/UI/buttons/bars/bars1.png" id="4_e6ya3"]
[ext_resource type="Texture2D" uid="uid://bi2krvngx2tic" path="res://assets/textures/UI/buttons/bars/bars2.png" id="5_8a1t7"]
[ext_resource type="Texture2D" uid="uid://i1tn8hhl3y3r" path="res://assets/textures/UI/elements/elements1.png" id="6_ae2b6"]
[ext_resource type="Texture2D" uid="uid://dl1s3vjutto82" path="res://assets/textures/UI/elements/elements2.png" id="7_8xfie"]
[ext_resource type="Texture2D" uid="uid://ceevic2bmnpjo" path="res://assets/textures/UI/elements/elements3.png" id="8_ec60a"]
[ext_resource type="Texture2D" uid="uid://byrj74wym5ny8" path="res://assets/textures/UI/elements/elements4.png" id="9_kfo16"]

[sub_resource type="GDScript" id="GDScript_2nmak"]
script/source = "class_name StatusBar
extends AspectRatioContainer

@onready var stamina: ColorRect = $\"HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars/Stamina/Stamina\"

func _process(delta: float) -> void:
	var stamina_stat = Player.stats[\"derived\"][\"stamina\"]
	var current_stamina: float = stamina_stat[\"val\"]
	var max_stamina: float = stamina_stat[\"max\"]
	
	var t = clamp(current_stamina / max_stamina, 0.0, 1.0)
	var stamina_width = lerp(0.0, 700.0, t)
	
	stamina.size = Vector2(stamina_width, stamina.size.y)
"

[sub_resource type="LabelSettings" id="LabelSettings_jqi1v"]
font_size = 29
outline_size = 16
outline_color = Color(0.298039, 0.298039, 0.298039, 1)

[node name="Status Bar" type="AspectRatioContainer"]
anchors_preset = -1
anchor_right = 0.191
anchor_bottom = 0.089
offset_right = 449.06
offset_bottom = 95.88
scale = Vector2(0.5, 0.5)
alignment_horizontal = 0
script = SubResource("GDScript_2nmak")

[node name="HBoxContainer" type="HBoxContainer" parent="."]
layout_mode = 2

[node name="Character Icon" type="AspectRatioContainer" parent="HBoxContainer"]
layout_mode = 2

[node name="frame" type="TextureRect" parent="HBoxContainer/Character Icon"]
z_index = 1
layout_mode = 2
texture = ExtResource("2_hoc73")

[node name="frame2" type="TextureRect" parent="HBoxContainer/Character Icon"]
z_index = 1
layout_mode = 2
texture = ExtResource("3_61oeo")

[node name="CenterContainer" type="CenterContainer" parent="HBoxContainer/Character Icon"]
layout_mode = 2

[node name="Nameholder & Status Bars" type="VBoxContainer" parent="HBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 0
alignment = 1

[node name="Name Margin" type="MarginContainer" parent="HBoxContainer/Nameholder & Status Bars"]
layout_mode = 2
theme_override_constants/margin_bottom = 8

[node name="Name Label" type="Label" parent="HBoxContainer/Nameholder & Status Bars/Name Margin"]
layout_mode = 2
text = "Bloo"
label_settings = SubResource("LabelSettings_jqi1v")

[node name="Status Bars" type="AspectRatioContainer" parent="HBoxContainer/Nameholder & Status Bars"]
layout_mode = 2
alignment_horizontal = 0

[node name="HMS bars" type="VBoxContainer" parent="HBoxContainer/Nameholder & Status Bars/Status Bars"]
custom_minimum_size = Vector2(700, 75.335)
layout_mode = 2

[node name="Health" type="HBoxContainer" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars"]
layout_mode = 2

[node name="Health" type="TextureRect" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars/Health"]
custom_minimum_size = Vector2(700, 45.65)
layout_mode = 2
size_flags_vertical = 3
texture = ExtResource("4_e6ya3")
expand_mode = 1

[node name="HealthContainer" type="MarginContainer" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars/Health"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Mana" type="HBoxContainer" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars"]
layout_mode = 2

[node name="Mana" type="TextureRect" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars/Mana"]
custom_minimum_size = Vector2(700, 23.17)
layout_mode = 2
size_flags_vertical = 3
texture = ExtResource("5_8a1t7")
expand_mode = 1

[node name="ManaContainer" type="MarginContainer" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars/Mana"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Stamina" type="HBoxContainer" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars"]
layout_mode = 2

[node name="Stamina" type="ColorRect" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars/Stamina"]
self_modulate = Color(1, 1, 0, 1)
custom_minimum_size = Vector2(0, 10)
layout_mode = 2
size_flags_vertical = 3

[node name="StaminaContainer" type="MarginContainer" parent="HBoxContainer/Nameholder & Status Bars/Status Bars/HMS bars/Stamina"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 2
size_flags_horizontal = 3

[node name="MarginContainer" type="MarginContainer" parent="."]
visible = false
layout_mode = 2
theme_override_constants/margin_top = 30
theme_override_constants/margin_right = 100

[node name="elements" type="HBoxContainer" parent="MarginContainer"]
custom_minimum_size = Vector2(0, 55)
layout_mode = 2
theme_override_constants/separation = 15

[node name="Health" type="TextureRect" parent="MarginContainer/elements"]
layout_mode = 2
size_flags_vertical = 3
texture = ExtResource("6_ae2b6")
expand_mode = 2

[node name="Mana" type="TextureRect" parent="MarginContainer/elements"]
layout_mode = 2
size_flags_vertical = 3
texture = ExtResource("7_8xfie")
expand_mode = 2

[node name="Stamina" type="TextureRect" parent="MarginContainer/elements"]
layout_mode = 2
size_flags_vertical = 3
texture = ExtResource("8_ec60a")
expand_mode = 2

[node name="Health2" type="TextureRect" parent="MarginContainer/elements"]
layout_mode = 2
size_flags_vertical = 3
texture = ExtResource("9_kfo16")
expand_mode = 2
